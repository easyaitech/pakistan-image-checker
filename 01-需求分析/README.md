# 巴基斯坦本地化图片合规检查器 - 需求文档

## 项目背景

在面向巴基斯坦市场的产品设计和运营中，经常需要检查广告图、落地页等设计是否符合当地的语言习惯、设计风格、宗教禁忌和文化习俗。传统的人工审核方式耗时耗力，且容易遗漏问题。

本项目旨在利用 AI 技术自动检查图片设计中的本地化问题，提高审核效率和准确性。

## 目标用户

- **内部设计师**: 检查设计稿是否符合本地化要求
- **运营人员**: 检查广告图、推广素材
- **产品经理**: 检查落地页和产品界面
- **其他非技术员工**: 无需技术背景即可使用

## 功能需求

### 核心功能

1. **图片上传**
   - 支持拖拽上传
   - 支持点击选择文件
   - 支持粘贴图片 URL
   - 文件大小限制：≤10MB
   - 支持格式：PNG、JPEG、JPG、WebP

2. **智能分析**
   - 4 个维度：语言、设计、宗教、文化
   - 问题检测：识别潜在的本地化问题
   - 严重程度：高/中/低
   - 修改建议：提供具体的改进建议

3. **结果展示**
   - 总体状态：✅ 无问题 / ⚠️ 发现问题
   - 问题列表：按严重程度排序
   - 详细描述：清晰说明问题
   - 修改建议：可操作的改进方案

### 非功能需求

1. **易用性**
   - 界面简洁，非技术人员也能轻松使用
   - 操作流程不超过 3 步
   - 加载状态清晰提示
   - 错误提示友好易懂

2. **性能**
   - 分析时间 ≤30 秒
   - 页面响应速度 <1 秒
   - 支持移动端访问

3. **安全**
   - 不存储用户图片
   - API 密钥安全存储
   - 输入验证和错误处理

## 技术需求

### 技术栈

- **前端**: Next.js 14.2.0 + React 18.2.0
- **AI 模型**: Claude Opus 4.5 (通过 OpenRouter API)
- **部署**: Vercel
- **版本控制**: Git

### 技术约束

1. Vercel 免费版限制：
   - Serverless Function 超时 10 秒
   - 请求体大小 4.5MB（需配置为 10MB）

2. OpenRouter API：
   - 按使用量计费
   - 图片转 base64 会占用较多 tokens

3. 图片处理：
   - 不存储用户图片
   - 即时分析，立即丢弃

## 验收标准

### 功能验收

- [ ] 支持文件上传和 URL 输入两种方式
- [ ] 能够识别 4 个维度的问题
- [ ] 能够正确判断严重程度
- [ ] 提供具体可操作的修改建议
- [ ] 分析结果格式正确

### 性能验收

- [ ] 页面加载时间 <2 秒
- [ ] 分析时间 ≤30 秒
- [ ] 移动端和桌面端显示正常

### 用户体验验收

- [ ] 非技术人员能够独立使用
- [ ] 错误提示清晰易懂
- [ ] 加载状态明确
- [ ] 界面美观、响应式

## 实施计划

### 阶段 1: 项目初始化（30 分钟）
- 创建项目结构
- 安装依赖
- 配置环境变量

### 阶段 2: 后端开发（2 小时）
- 创建分析提示词
- 实现 API 接口
- 测试 API 功能

### 阶段 3: 前端开发（3 小时）
- 创建主页面
- 实现上传功能
- 实现结果展示
- 样式优化

### 阶段 4: 测试与优化（2 小时）
- 功能测试
- 性能测试
- UI/UX 测试
- Bug 修复

### 阶段 5: 部署（1 小时）
- 部署到 Vercel
- 配置环境变量
- 生产环境测试

**总计**: 约 8-9 小时

## 风险与应对

| 风险 | 影响 | 应对方案 |
|------|------|----------|
| API 调用超时 | 分析失败 | 优化提示词，控制图片大小 |
| AI 分析不准确 | 用户体验差 | 添加免责声明，建议人工复核 |
| 使用成本过高 | 超出预算 | 添加使用量统计和限制 |
| 恶意使用 | 资源耗尽 | 添加频率限制 |

## 成功标准

- 用户能在 30 秒内完成图片上传和分析
- 能够准确识别常见的巴基斯坦本地化问题
- 错误率 ≤5%
- 移动端和桌面端体验良好
- 非技术人员能够轻松使用
- 符合 Vercel 免费版限制

## 未来扩展

- [ ] 支持批量图片分析
- [ ] 添加历史记录存储
- [ ] 导出分析报告（PDF）
- [ ] 多语言支持（英语、乌尔都语、中文）
- [ ] 图片对比功能（修改前后对比）

---

**文档版本**: v1.0
**创建时间**: 2025-12-30
**最后更新**: 2025-12-30
